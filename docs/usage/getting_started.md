# Getting Started

Welcome to the Android Vulnerability Analysis Framework! This guide will help you get started with setting up and using the framework for static analysis of vulnerabilities in Android applications.

## Table of Contents

1. [Prerequisites](#prerequisites)
2. [Installation](#installation)
3. [Configuration](#configuration)
4. [Basic Usage](#basic-usage)
5. [Running the Analysis](#running-the-analysis)
6. [Viewing Results](#viewing-results)
7. [Troubleshooting](#troubleshooting)

## Prerequisites

Before you begin, make sure you have the following prerequisites installed on your system:

1. **Java Development Kit (JDK 11 or higher)**: Required for running the tools used in the framework.
2. **Python 3.8+**: Required for scripting and running certain tools.
3. **Android SDK**: Necessary for analyzing Android applications.
4. **Git**: Version control system to clone the repository and manage code.
5. **Docker**: Optional but recommended for running certain static analysis tools like MobSF in a containerized environment.

Ensure your environment is properly set up with these dependencies.

## Installation

Follow these steps to install the framework on your local machine:

1. **Clone the Repository:**
    ```bash
    git clone https://github.com/prafulsirgit/android-vulnerability-analysis-framework.git
    cd android-vulnerability-analysis-framework
    ```

2. **Install Dependencies:**
    - Install Python dependencies:
      ```bash
      pip install -r requirements.txt
      ```
    - Install any other dependencies as specified in the `installation.md` file.

3. **Set Up Android SDK:**
    - Download and install the [Android SDK](https://developer.android.com/studio).
    - Set the `ANDROID_HOME` environment variable to point to the SDK location.
    - Add the `platform-tools` and `tools` directories to your system `PATH`.

4. **Install Static Analysis Tools:**
    - Install MobSF, Codacy CLI, Android Lint, and any other tools as specified in the `installation.md` file.

## Configuration

After installing the framework and dependencies, you need to configure it for your environment:

1. **Environment Variables:**
    - Create a `.env` file in the root directory of the project.
    - Add the following variables:
      ```env
      ANDROID_HOME=/path/to/android/sdk
      CODACY_API_TOKEN=your_codacy_api_token
      ```

2. **Configure Codacy:**
    - Set up the Codacy project and obtain the API token.
    - Configure the `codacy.yml` file to specify the analysis rules and configuration.

3. **Docker Setup (Optional):**
    - If you are using Docker for MobSF, ensure Docker is installed and running on your system.
    - Pull the MobSF Docker image:
      ```bash
      docker pull opensecurity/mobile-security-framework-mobsf
      ```

## Basic Usage

With the framework installed and configured, you can now perform a basic static analysis on an Android application:

1. **Analyze an APK:**
    - Place the APK file you want to analyze in the `input` directory.
    - Run the analysis script:
      ```bash
      python run_analysis.py input/your_app.apk
      ```

2. **Analyze a Source Code Project:**
    - Place the source code of the Android project in the `projects` directory.
    - Run the analysis script:
      ```bash
      python run_analysis.py projects/your_project
      ```

3. **View the Results:**
    - The analysis results will be saved in the `output` directory.
    - Open the generated HTML report for a detailed view of the findings.

## Running the Analysis

1. **Using MobSF:**
    - If you have MobSF installed, run the server:
      ```bash
      docker run -it -p 8000:8000 opensecurity/mobile-security-framework-mobsf
      ```
    - Open [http://localhost:8000](http://localhost:8000) in your browser and upload the APK or source code for analysis.

2. **Using Codacy CLI:**
    - Run Codacy CLI to scan the project:
      ```bash
      codacy-analysis-cli analyze --project path/to/project
      ```

3. **Using Android Lint:**
    - Run Android Lint to analyze the source code:
      ```bash
      ./gradlew lint
      ```
    - The lint results will be saved in the `build/reports/lint-results.html` file.

## Viewing Results

1. **MobSF Results:**
    - Navigate to the `output` directory.
    - Open the `mobsf_report.html` file in a browser to view the analysis results.

2. **Codacy Results:**
    - Log in to your Codacy dashboard.
    - Navigate to your project to view detailed results and code quality metrics.

3. **Android Lint Results:**
    - Open the `build/reports/lint-results.html` file in a browser to view the results of the lint analysis.

## Troubleshooting

1. **Issues with Dependencies:**
    - Ensure all dependencies are installed correctly and environment variables are set.

2. **Tool-Specific Issues:**
    - Check the tool-specific documentation in the `docs/` folder for troubleshooting steps.

3. **General Issues:**
    - Open an issue on the [GitHub repository](https://github.com/prafulsirgit/android-vulnerability-analysis-framework/issues) for help.

If you encounter any problems or have questions, feel free to reach out by opening an issue on GitHub or contacting the maintainers. Happy coding!