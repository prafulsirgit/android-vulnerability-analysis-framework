# Usage Examples

This document provides several examples to demonstrate the usage of the **Android Vulnerability Analysis Framework**. These examples will help you understand how to effectively utilize the framework to analyze Android applications for vulnerabilities.

## Table of Contents

1. [Basic Usage](#1-basic-usage)
2. [Analyzing an APK File](#2-analyzing-an-apk-file)
3. [Analyzing Source Code](#3-analyzing-source-code)
4. [Configuration Analysis](#4-configuration-analysis)
5. [Dependency Analysis](#5-dependency-analysis)
6. [Generating Reports](#6-generating-reports)
7. [Advanced Usage](#7-advanced-usage)

---

## 1. Basic Usage

This example demonstrates the most basic usage of the framework. It covers how to set up the environment and run a simple static analysis on an APK file.

```bash
# Clone the repository
git clone https://github.com/prafulsirgit/android-vulnerability-analysis-framework.git
cd android-vulnerability-analysis-framework

# Run the framework with the default configuration
python analyze.py --apk /path/to/your/app.apk
```

## 2. Analyzing an APK File

This example shows how to perform a static analysis on a specific APK file and generate a detailed report.

```bash
# Run static analysis on a given APK file
python analyze.py --apk /path/to/your/app.apk --output /path/to/output/report.json

# Example
python analyze.py --apk samples/HelloWorld.apk --output reports/HelloWorld-report.json
```

- The report will be saved in JSON format at the specified location.
- This report includes details on detected vulnerabilities, risk levels, and remediation suggestions.

## 3. Analyzing Source Code

This example explains how to analyze the source code of an Android project. You need to provide the path to the root directory of the project.

```bash
# Run static analysis on the source code of an Android project
python analyze.py --source /path/to/android/project --output /path/to/output/report.json

# Example
python analyze.py --source samples/MyAppSource --output reports/MyAppSource-report.json
```

- The report will be generated in the specified location, listing potential vulnerabilities in the source code.

## 4. Configuration Analysis

This example focuses on analyzing configuration files, such as `AndroidManifest.xml` and `build.gradle`, to identify insecure configurations.

```bash
# Run configuration analysis
python analyze.py --apk /path/to/your/app.apk --config-only --output /path/to/output/config-report.json

# Example
python analyze.py --apk samples/HelloWorld.apk --config-only --output reports/HelloWorld-config-report.json
```

- The report will highlight insecure configurations like exported components, permissions, and build settings.

## 5. Dependency Analysis

This example shows how to analyze the dependencies of an Android project to detect vulnerabilities in third-party libraries.

```bash
# Run dependency analysis
python analyze.py --source /path/to/android/project --dependencies-only --output /path/to/output/dependencies-report.json

# Example
python analyze.py --source samples/MyAppSource --dependencies-only --output reports/MyAppSource-dependencies-report.json
```

- This will check the project's dependencies against a known vulnerabilities database and provide a report on outdated or vulnerable libraries.

## 6. Generating Reports

The framework supports multiple formats for report generation, such as JSON, HTML, and CSV. Hereâ€™s how you can generate an HTML report:

```bash
# Generate an HTML report
python analyze.py --apk /path/to/your/app.apk --output-format html --output /path/to/output/report.html

# Example
python analyze.py --apk samples/HelloWorld.apk --output-format html --output reports/HelloWorld-report.html
```

- The HTML report will include a detailed overview of the vulnerabilities found, along with suggestions for remediation.

## 7. Advanced Usage

This section covers more advanced use cases, such as combining different analysis options and integrating the framework with CI/CD pipelines.

### Combining Analysis Options

You can combine multiple options for a more comprehensive analysis:

```bash
# Run a comprehensive analysis on both source code and configuration files
python analyze.py --source /path/to/android/project --config-only --dependencies-only --output /path/to/output/full-report.json

# Example
python analyze.py --source samples/MyAppSource --config-only --dependencies-only --output reports/MyAppSource-full-report.json
```

### CI/CD Integration

To integrate the framework into a CI/CD pipeline, you can use the following script in your CI configuration:

```yaml
# .github/workflows/ci.yml (GitHub Actions example)
name: Analyze Android Application

on: [push, pull_request]

jobs:
  analysis:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.x'

    - name: Install dependencies
      run: |
        pip install -r requirements.txt

    - name: Run analysis
      run: |
        python analyze.py --source . --output reports/full-report.json
```

- This will automatically run the static analysis on every push or pull request, and generate a report.

---